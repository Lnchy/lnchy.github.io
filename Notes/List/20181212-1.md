### Java EE
- Enterprise 企业版本
- Edition 版本
### EJB（重型）
- Enterprise Java Bean
### Spring MVC 取代EJB
- Spring 只是一个容器。减低代码之间的耦合性。
- IOC 控制反转
    - IOC - Inversion of Control 控制反转，他不是一种技术，而是一种设计思想。IOC意味着你把设计好的对象交给容器，而不是在你的对象内部控制
    - 容器：把new干掉，在容器里初始化对象->获取对象
    - 容器也可以理解为一个工厂，他生产出来的产品就是JavaBean，将工厂模式分割，分为解析程序和XML文件。XML暴露出来描述工厂需要实例化的类和他们的关系

- AOP 面向切面编程
    - 面向切面编程
### 配置
- 传统的方式 XML
    ```
    <!--简单的声明-->
    <bean class="包名.类名"/> <!--Class.forName("package.Dog").newInstance();-->
    <bean id="xxx" class="包名.类名"/>

    <!--对象内部必须要有数据，所以要给他数据-->
    <!--构造器注入-->
    <bean class="package.className">
        <constructor-arg index="0" value="值">
        <constructor-arg index="1" ref="另外一个Bean">

        <!--内部Bean-->
        <constructor-arg index="2">
            <bean class="package.className" />
        </constructor-arg>
    </bean>

    <!--属性注入-->
    <bean class="package.className">
        <property name="属性名">
            <value>值</value>
        </property>
        <property name="属性名" value="值"/>

        <!--注入集合-->
        <property name="属性名">
            <list>
                <value>值</value>
                <value>值</value>
                <value>值</value>
            </list>
        </property>
    </bean>

    <bean class="package.className">
        <property name="属性名" value="值"/>
    </bean>

    - denpend-on 定义顺序
    - parent 定义继承
    - scope 定义初始化策略
    - alias 定义别名
    - import 引入其他的定义文件
    ```

    - 优点
        - 这种方式充分利用了XML文件的优势
        - 接受度比较高，语法简单
        - 表达能力比较强
        - 生态比较完整，基于XML的校验。解析等比较完整
        - 所以，最开始的时候，描述工厂就是用这样的方式
    - 但是，很多人不喜欢XML这种标签式的语法，写起来麻烦，看起来不舒服
        - XML 方式过于重形
        - XML 语法的校验虽然强大，但不够强大
        - XML 虽然灵活，但不够灵活

        - 所以就产生了其他的叛逆的想法
- 基于Java的方式进行配置
    ```
    @Configuration
    public class SuibianSpringConfig {

        // <bean id="bs1" class="learning.spring.BookServiceImpl" />
        @Bean
        public BookService bs1() {
            if (Math.random() > 0.5) {
                // 构造器注入
                return new BookService2Impl(bookDAO());
            } else {
                // setter 注入
                BookService bs = new BookServiceImpl();
                bs.setBookDAO(bookDAO());
                return bs;
            }
        }

        @Bean
        public BookDAO bookDAO () {
            return new BookDAO();
        }
    }
    ```
- 混合双打
### 向工厂描述需要加载那些Bean
- @Bean 使用bean注解
- <bean> 在XML里添加bean的配置
- 使用 ` @Component / @Service / @Controller / @Repository ` 注解之后在` @Configuration `下添加` @ComponentScan(basePackages = "包名") ` 解析